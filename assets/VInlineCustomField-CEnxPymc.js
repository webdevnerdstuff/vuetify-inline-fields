const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-4PrvqjVD.js","assets/index-B_mzHhvS.js","assets/index-YSWQjt4H.css"])))=>i.map(i=>d[i]);
import{d as _e,m as U,u as Ve,a as Ae,b as Oe,i as $,c as xe,r as Te,w as We,t as ke,e as t,f as s,h as P,_ as Ee,o as we,j as p,k as C,l as e,n as v,p as N,q as m,s as De,v as Le,x as je,y as F,z as Re,I as X,E as z,F as _,T as qe,C as Y,B as V,D as Me,G as Ue,H as $e}from"./index-B_mzHhvS.js";import{r as Ne,d as Xe,a as Ye,b as Ge,c as He,e as Je,f as Ke,g as Qe,h as Ze,i as en,j as nn,C as ln,_ as an,t as on,l as tn}from"./emits-B3ozKNna.js";import{_ as sn}from"./DisplayedValue.vue_vue_type_script_setup_true_lang-DWYkZNYn.js";const un=_e({__name:"VInlineCustomField",props:U($e({clearIcon:{},density:{},rules:{},variant:{},autofocus:{type:Boolean},cancelButtonColor:{},cancelButtonSize:{},cancelButtonTitle:{},cancelButtonVariant:{},cancelIcon:{},cancelIconColor:{},cardField:{type:Boolean},cardOffsetX:{},cardOffsetY:{},cardProps:{},cell:{type:Boolean},cellUnderlineFullWidth:{type:Boolean},closeSiblings:{type:Boolean},color:{},disabled:{type:Boolean},displayAppendIcon:{},displayAppendIconColor:{},displayAppendIconSize:{},displayAppendInnerIcon:{},displayAppendInnerIconColor:{},displayAppendInnerIconSize:{},displayPrependIcon:{},displayPrependIconColor:{},displayPrependIconSize:{},displayPrependInnerIcon:{},displayPrependInnerIconColor:{},displayPrependInnerIconSize:{},emptyText:{},error:{type:Boolean},fieldOnly:{type:Boolean},hideCancelIcon:{type:Boolean},hideDetails:{type:Boolean},hideSaveIcon:{type:Boolean},label:{},loading:{type:Boolean},loadingIcon:{},loadingIconColor:{},loadingWait:{type:Boolean},name:{},required:{type:Boolean},saveButtonColor:{},saveButtonSize:{},saveButtonTitle:{},saveButtonVariant:{},saveIcon:{},saveIconColor:{},tableField:{type:Boolean},truncateLength:{},truncateSuffix:{},underlineColor:{},underlineStyle:{},underlineWidth:{},underlined:{type:Boolean},valueColor:{}},{...on}),{modelValue:{},modelModifiers:{}}),emits:U([...tn],["update:modelValue"]),setup(A,{emit:G}){const i=Ve(A,"modelValue"),g=Ae(),H=Oe(),O=G,x=$(xe,{}),b=$(Symbol.for("vuetify:icons")),a=A,n=Te({...g,...a,...x});We(()=>{Object.assign(n,{...g,...a,...x})});const{cancelButtonColor:J,cancelButtonSize:K,cancelButtonTitle:Q,cancelButtonVariant:Z,cancelIcon:ee,cancelIconColor:ne,cardField:y,closeSiblings:B,fieldOnly:le,hideCancelIcon:ae,hideSaveIcon:oe,loadingIcon:te,loadingIconColor:ie,saveButtonColor:se,saveButtonSize:re,saveButtonTitle:de,saveButtonVariant:ce,saveIcon:ue,saveIconColor:pe}=ke(n),T=t(()=>a.disabled),d=t(()=>a.loading),W=s(!1),r=s(!1),o=s(!1),f=s(null);let S=i.value;P(()=>d.value,(l,u)=>{!l&&u&&o.value&&I()});const ve=t(()=>i.value?(k(!1),n.truncateLength?Ne({length:n.truncateLength,suffix:n.truncateSuffix,text:i.value}):i.value):(k(!0),n.emptyText));function k(l){W.value=l}const ye=t(()=>({...n,loading:d.value,modelValue:i.value,originalValue:S})),fe=t(()=>({color:n.color,displayAppendIcon:a.displayAppendIcon,displayAppendIconColor:a.displayAppendIconColor,displayAppendIconSize:a.displayAppendIconSize,displayAppendInnerIcon:a.displayAppendInnerIcon,displayAppendInnerIconColor:a.displayAppendInnerIconColor,displayAppendInnerIconSize:a.displayAppendInnerIconSize,displayPrependIcon:a.displayPrependIcon,displayPrependIconColor:a.displayPrependIconColor,displayPrependIconSize:a.displayPrependIconSize,displayPrependInnerIcon:a.displayPrependInnerIcon,displayPrependInnerIconColor:a.displayPrependInnerIconColor,displayPrependInnerIconSize:a.displayPrependInnerIconSize,displayValue:ve.value,empty:W.value,error:r.value,field:"v-text-field",underlineColor:n.underlineColor,underlineStyle:n.underlineStyle,underlineWidth:n.underlineWidth,underlined:n.underlined,valueColor:n.valueColor})),Ie=t(()=>({...Xe,...a.cardProps})),Ce=t(()=>Ye({cell:n.cell&&!o.value,density:n.density,disabled:T.value,field:"v-text-field",iconSet:b==null?void 0:b.defaultSet,loading:d.value,loadingWait:n.loadingWait,tableField:n.tableField,variant:n.variant})),me=t(()=>Ge({cell:n.cell,cellUnderlineFullWidth:n.cellUnderlineFullWidth,density:n.density,field:"v-text-field"})),ge=He({density:n.density,variant:n.variant}),be=t(()=>Je({active:o.value,name:"text-field"})),Be=t(()=>Ke({name:"custom-field",showField:o.value})),Se=t(()=>Qe()),he=t(()=>w.value);function E(){r.value=!1,i.value=S,I()}const w=s(),D=s(null),L=s("body");function I(){var u,h;if(T.value||n.loadingWait&&d.value)return;w.value=Ze({cardMinWidth:(u=n.cardProps)==null?void 0:u.minWidth,cardOffsetX:n.cardOffsetX,cardOffsetY:n.cardOffsetY,cardWidth:(h=n.cardProps)==null?void 0:h.width,field:D.value});const l=en({attrs:g,closeSiblings:B.value,fieldOnly:n.fieldOnly,props:a,showField:o,timeOpened:f.value});o.value=l.showField,f.value=l.timeOpened,c!==null&&B.value&&o.value&&!n.fieldOnly&&c.emit(l.timeOpened)}const Pe=s();P(()=>o.value,()=>{o.value&&j()}),P(()=>i.value,()=>{o.value&&j()});function j(){const l=nn({required:n.required,rules:n.rules,value:i});return r.value=l.errors,Pe.value=l.results,l.results}function Fe(){if(r.value){r.value=!0;return}S=i.value,O("update",i.value),n.loadingWait||I()}let c,R;B.value&&Ee(async()=>{const{useEventBus:l}=await import("./index-4PrvqjVD.js");return{useEventBus:l}},__vite__mapDeps([0,1,2])).then(({useEventBus:l})=>{c=l(ln),R=c.on(q)});function q(l){O("update:closeSiblingFields",f),o.value&&f.value!==l&&E()}return we(()=>{typeof R<"u"&&c.off(q)}),(l,u)=>(p(),C("div",{ref_key:"inlineFieldsContainer",ref:D,class:v(e(Ce)),style:Y(e(Se))},[!e(o)&&!e(n).fieldOnly||e(y)?(p(),C("div",{key:0,class:v(e(me))},[N("div",{class:v(e(ge))},[m(sn,je(e(fe),{onToggleField:I}),De({_:2},[Le(e(H),(h,M)=>({name:M,fn:V(ze=>[X(l.$slots,M,z(_({...ze})))])}))]),1040)],2)],2)):F("",!0),e(o)||e(n).fieldOnly||e(y)?(p(),C("div",{key:1,class:v(["d-flex align-center py-2",e(be)])},[(p(),Re(qe,{disabled:!e(y),to:e(L)},[X(l.$slots,"default",z(_(e(ye)))),m(an,{"cancel-button-color":e(J),"cancel-button-size":e(K),"cancel-button-title":e(Q),"cancel-button-variant":e(Z),"cancel-icon":e(ee),"cancel-icon-color":e(ne),error:e(r),"field-only":e(le),"hide-cancel-icon":e(ae),"hide-save-icon":e(oe),loading:e(d),"loading-icon":e(te),"loading-icon-color":e(ie),"save-button-color":e(se),"save-button-size":e(re),"save-button-title":e(de),"save-button-variant":e(ce),"save-icon":e(ue),"save-icon-color":e(pe),onClose:E,onSave:Fe},null,8,["cancel-button-color","cancel-button-size","cancel-button-title","cancel-button-variant","cancel-icon","cancel-icon-color","error","field-only","hide-cancel-icon","hide-save-icon","loading","loading-icon","loading-icon-color","save-button-color","save-button-size","save-button-title","save-button-variant","save-icon","save-icon-color"])],8,["disabled","to"]))],2)):F("",!0),e(y)?(p(),C("div",{key:2,class:v(e(Be)),style:Y(e(he))},[m(Ue,z(_(e(Ie))),{default:V(()=>[m(Me,null,{default:V(()=>[N("div",{ref_key:"cardFieldRef",ref:L},null,512)]),_:1})]),_:1},16)],6)):F("",!0)],6))}});export{un as default};
